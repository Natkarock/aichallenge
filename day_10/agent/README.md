# MCP –ê–≥–µ–Ω—Ç —Å GUI –Ω–∞ Streamlit

–≠—Ç–æ—Ç –Ω–∞–±–æ—Ä —Ñ–∞–π–ª–æ–≤ –¥–∞—ë—Ç –≤–∞–º –≥–æ—Ç–æ–≤—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã MCP (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–≥–æ–¥—ã –ø–æ –≥–æ—Ä–æ–¥—É) –∏ –≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

## –§–∞–π–ª—ã
- `main.py` ‚Äî Streamlit —á–∞—Ç‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- `agent.py` ‚Äî –ª—ë–≥–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ OpenAI Responses API —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π MCP‚Äë—Å–µ—Ä–≤–µ—Ä–∞.
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≤–∞—à `agent.py` –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ª–æ–≥–∏–∫–æ–π LangGraph/LangChain –∏ —Ç. –ø.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install --upgrade pip
pip install streamlit openai
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (–∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º) –∏ –∑–∞–¥–∞–π—Ç–µ:

```bash
export OPENAI_API_KEY="sk-..."
# –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
export OPENAI_MODEL="gpt-5"
export MCP_SERVER_URL="https://your-mcp.example.com/sse"
export MCP_SERVER_LABEL="weather"
export MCP_SERVER_DESC="Weather MCP server"
export MCP_REQUIRE_APPROVAL="never"  # never|auto|always
```

> –ï—Å–ª–∏ `MCP_SERVER_URL` –Ω–µ –∑–∞–¥–∞–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ MCP‚Äë–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ —á–∞—Ç‚Äë–±–æ—Ç.

## –ó–∞–ø—É—Å–∫
```bash
streamlit run main.py
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–µ–±‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞. –ü–∏—à–∏—Ç–µ —Ñ—Ä–∞–∑—ã –≤—Ä–æ–¥–µ:
- ¬´–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –±—É–¥–µ—Ç –≤ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä–µ?¬ª
- ¬´–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –ø–æ –ú–æ—Å–∫–≤–µ¬ª
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî –∞–≥–µ–Ω—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑–æ–≤–µ—Ç MCP‚Äë—Å–µ—Ä–≤–∏—Å.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `main.py` —Ä–∏—Å—É–µ—Ç —á–∞—Ç (–∏—Å—Ç–æ—Ä–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `st.session_state`) –∏, –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞,
  –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è –±–ª–æ–∫** ¬´–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π¬ª: —Ç–∞–º –≤–∏–¥–Ω—ã —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏,
  –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏, **tool_calls** (–ª–æ–≥ –≤—ã–∑–æ–≤–æ–≤ MCP).
- `agent.py` —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ–ø–ª–∏–∫, –¥–æ–±–∞–≤–ª—è–µ—Ç MCP‚Äë—Å–µ—Ä–≤–µ—Ä –≤ `tools`
  –∏ –≤—ã–∑—ã–≤–∞–µ—Ç OpenAI **Responses API**. –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –∏ "—Å—ã—Ä—ã–µ" –¥–∞–Ω–Ω—ã–µ (–¥–ª—è –ª–æ–≥–æ–≤) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ UI.

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
**1) –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å tool_calls?**  
–í ¬´–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π¬ª –ø–æ–¥ –∫–∞–∂–¥—ã–º –æ—Ç–≤–µ—Ç–æ–º ‚Äî —Ç–∞–º –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å—ã—Ä–æ–π –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞ –∏–∑ Responses API (—Å `tool_calls`, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –∏—Ö —Å–¥–µ–ª–∞–ª–∞).

**2) –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å?**  
–î–∞, –∑–∞–¥–∞–π—Ç–µ `OPENAI_MODEL`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `gpt-5`.

**3) –ö–∞–∫ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è?**  
–ú—ã —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π ¬´history summary¬ª –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö ~10 —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–¥–º–µ—à–∏–≤–∞–µ–º –µ–≥–æ –∫ –ø—Ä–æ–º–ø—Ç—É. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω ‚Äú–Ω–∞—Å—Ç–æ—è—â–∏–π‚Äù –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äî –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ `agent.py` –ø–æ–¥ –≤–∞—à —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (LangGraph/LangChain) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏.

**4) –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π MCP-—Å–µ—Ä–≤–µ—Ä –ø–æ–≥–æ–¥—ã?**  
–ó–∞–ø—É—Å—Ç–∏—Ç–µ/—É–∫–∞–∂–∏—Ç–µ –≤–∞—à MCP endpoint –≤ `MCP_SERVER_URL`. –ú–æ–¥–µ–ª—å —Å–∞–º–∞ —Ä–µ—à–∏—Ç, –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –µ—Å–ª–∏ –µ–π –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑.

–£–¥–∞—á–∏! üéõÔ∏èüí¨
